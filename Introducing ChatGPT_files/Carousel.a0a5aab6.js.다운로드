import x from"./CarouselNav.3cc758d8.js";import{ap as z,y as S,r as o,g as B,z as N,o as c,c as f,b as r,a as C,d as s,F as $,A,i as F,v as P,E as V}from"./entry.4b5ca0c5.js";const W={class:"container grid-layout"},X={class:"grid-col-span-6 md:grid-col-span-8 lg:grid-col-span-6 lg:grid-col-start-3"},E=["aria-hidden"],H={class:"container grid-layout"},L={class:"grid-col-span-6 md:grid-col-span-8 lg:grid-col-span-6 lg:grid-col-start-3"},D={__name:"Carousel",emits:["change"],setup(O,{emit:b}){const i=z(),l=S(()=>i.default().length),t=o(0),m=o(Array(l.value).fill(0).map(()=>"auto")),u=o(),g=o(),h=o([]),d=o(),_=o(null),p=()=>{const e=t.value,a=t.value-1;a<-1||(t.value=a,y(e,a))},w=()=>{const e=t.value,a=t.value+1;a>l.value||(t.value=a,y(e,a))},y=(e,a)=>{let n=a;a===l.value?n=0:a===-1&&(n=l.value-1),b("change",n);const k=g.value.animate([{transform:`translateX(-${(e+1)*100}vw)`},{transform:`translateX(-${(a+1)*100}vw)`}],{duration:350,fill:"forwards",easing:"cubic-bezier(0.4, 0, 0.2, 1)"});k.onfinish=()=>{(a===l.value||a===-1)&&(t.value=n)}},v=S(()=>{let e=t.value;return t.value===-1?e=l.value-1:t.value===l.value&&(e=0),e});return B(()=>{d.value=new ResizeObserver(()=>{u.value.offsetWidth!==_.value&&(window.requestAnimationFrame(()=>{m.value=h.value.slice(1,l.value+1).map(e=>`${e.offsetHeight}px`)}),_.value=u.value.offsetWidth)}),d.value.observe(u.value)}),N(()=>{var e;(e=d.value)==null||e.disconnect()}),(e,a)=>(c(),f("section",{class:"flex flex-col",ref_key:"root",ref:u},[r("div",W,[r("div",X,[C(x,{current:s(v)+1,total:s(l),onPrevious:p,onNext:w,class:"mt-spacing-4"},null,8,["current","total"])])]),r("div",{class:"overflow-hidden max-w-full my-spacing-4",style:V({height:s(m)[s(v)]})},[r("div",{class:"grid grid-flow-col items-start min-w-max",style:{transform:"translateX(-100vw)"},ref_key:"slidesContainer",ref:g},[(c(!0),f($,null,A(s(i).default().length+2,n=>(c(),f("div",{"aria-hidden":s(t)!==n-2,ref_for:!0,ref_key:"slides",ref:h},[(c(),F(P(n===s(i).default().length+2?s(i).default().at(0):s(i).default().at(-2+n))))],8,E))),256))],512)],4),r("div",H,[r("div",L,[C(x,{current:s(v)+1,total:s(l),onPrevious:p,onNext:w},null,8,["current","total"])])])],512))}};export{D as default};
